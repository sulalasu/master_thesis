%% 
%% Template for dissertation and diploma thesis 
%% at the faculty of civil engineering, TU Wien
%% 
%% Created 2024-06-14
%% Christian Schranz, Sebastian Pech
%% tested for pdflatex
%% 
%% Downlaoded 05.2025 from https://gitlab.tuwien.ac.at/cee-latex/latex-vorlagen/-/archive/main/latex-vorlagen-main.zip?path=DA-DISS
%% Own adjustments

\ProvidesPackage{THESIS_STYLE}[2025/05/01]


\renewcommand*{\chaptermarkformat}{%
  \thechapter\autodot\enskip%
}  % no "Chapter" (or "Kapitel" in header)


\RequirePackage[babel]{microtype}     % improves the micro-typographic layout
\RequirePackage[english]{babel} %% englisch and austrian language %%,ngerman


\hypersetup{ % Setzt einige Werte die in den Eigenschaften des PDF gespeichert sind.
  bookmarksnumbered,
%   % pdfdisplaydoctitle = true,
   colorlinks, % Für Druck auf "false" setzen!
   linkcolor={black}, % auch keine grellen Rahmen im View
   citecolor={black},
   urlcolor={black}
}

%% Absatzkontrolle
\clubpenalty10000
\widowpenalty10000
\displaywidowpenalty=10000

%% new definitions of margins - variant 1
\RequirePackage[left=2.5cm,right=2.5cm,top=2.0cm,bottom=3.0cm,includehead]{geometry}

%% header and footer
\RequirePackage[
headsepline,
automark
]{scrlayer-scrpage}

\pagestyle{scrheadings}
\clearpairofpagestyles
\ihead{\headmark}
\ohead{\thepage}
%\cfoot{\thepage}

\RequirePackage[absolute]{textpos} %% for positioning the tu-logo

\RequirePackage[list=true]{subcaption}

\RequirePackage{mathtools} %% extension of amsmath (also loads amstext)
\RequirePackage{amssymb}   %% for complex formulas

%Correct UTF8 mapping for ams fonts
\ifdefined\pdffontattr% \ifdefined is part of the e-TeX extension, which is part of any modern LaTeX compiler.
  \immediate\pdfobj stream file {umsa.cmap}
  {\usefont{U}{msa}{m}{n}\pdffontattr\font{/ToUnicode \the\pdflastobj\space 0 R}}
  \immediate\pdfobj stream file {umsb.cmap}
  {\usefont{U}{msb}{m}{n}\pdffontattr\font{/ToUnicode \the\pdflastobj\space 0 R}}
\fi
\RequirePackage{xfrac}  %% diagonals fractions - e.g. numbers
\RequirePackage{siunitx} %% SI Units
\RequirePackage{booktabs} %% for better looking tables 
\RequirePackage{lipsum} %% for lorem ipsum
\RequirePackage{eurosym} %% for correct Euro-Symbol with \officialeuro{}
\RequirePackage[babel,austrian=quotes,english=american]{csquotes}   %% context sensitives quotations
\RequirePackage{listings} %% syntax highlighting - for program code
\RequirePackage{titlesec} %% For better titles/to remove 'Chapter N' 

\renewcaptionname{english}{\tablename}{Tab.}
\renewcaptionname{english}{\figurename}{Fig.}
\renewcaptionname{english}{\bibname}{bibliography}
\renewcaptionname{english}{\abstractname}{Abstract}

%% Einstellungen für Zeilenumbrüche von Weblinks im url-Paket
\setcounter{biburllcpenalty}{9000}% Kleinbuchstaben
\setcounter{biburlucpenalty}{9000}% Großbuchstaben
%% Quelle: https://texwelt.de/fragen/7008/zeilenumbruche-in-bibliografielinks

%% ===== additional settings =============
\setcounter{secnumdepth}{3}
\sisetup{output-decimal-marker = {,},
range-phrase = --,
group-separator = {~},
per-mode = symbol, 
list-final-separator={ und }}


%% examples for useful shortcuts in German
\newcommand{\zB}{\mbox{z.\,B.}\xspace}
\newcommand{\Name}[1]{\textsc{#1}}

\newcommand{\vKTxv}{\mathbf{v}_1^T\tilde{\mathbf{K}}_{T},_{\xi}\mathbf{v}_1}
\newcommand{\vKTxxv}{\mathbf{v}_1^T\tilde{\mathbf{K}}_{T},_{\xi\xi}\mathbf{v}_1}


\lstset{literate=%
   {Ö}{{\"O}}1
   {Ä}{{\"A}}1
   {Ü}{{\"U}}1
   {ß}{{\ss}}1
   {ü}{{\"u}}1
   {ä}{{\"a}}1
   {ö}{{\"o}}1
}


%%
%% Customize Titlepage for Department of Civil Engineering
%%
\RequirePackage{ifthen}

%% Define Chapter Header:
\titleformat{\chapter}[display]
  {\normalfont\bfseries}{}{0pt}{\Large}

\newcommand{\titleDAen}[1]{{\large Master Thesis} \\[3ex]
{\LARGE \textbf{#1
}
\\[3.0ex]}
{\large
submitted in satisfaction of the requirements for the degree
\\[1ex]
\ifthenelse{\equal{\gender}{M}}{Master of Science}{Master of Science} %%male or female title
\\[1ex]
of the FH Campus Wien, Bioinformatics
}}

\newcommand{\titleDAde}[1]{{\large Masterarbeit} 
\\[3ex]
{\LARGE \textbf{#1}
\\[3.0ex]}
{\large
ausgeführt zum Zwecke der Erlangung des akademischen Grads
\\[1ex]
\ifthenelse{\equal{\gender}{M}}{Master of Science}{Master of Science} %%männlich oder weiblicher Titel
\\[1ex]
eingereicht an der FH Campus Wien, Bioinformatik
}}




\renewcommand{\maketitle}{%
\begin{titlepage}
%
\begin{textblock*}{4cm}(157mm,7mm)
\includegraphics[width=4cm]{./images/00_general/FH_Campus_Wien_Logo_Druck_100_mm.png}
\end{textblock*}

\begin{singlespace*}
\begin{center}
  \ifthenelse{\equal{\thesistype}{DISS}}
    {\ifthenelse{\equal{\thesislanguage}{de-AT}}{\titleDISSde{\thesistitle}}{\titleDISSen{\thesistitle}}}
    {\ifthenelse{\equal{\thesislanguage}{de-AT}}{\titleDAde{\thesistitle}}{\titleDAen{\thesistitle}}}
\\[1.5ex]
\rule{\linewidth}{0.2mm}
\\[1.5ex]
  \ifthenelse{\equal{\thesistype}{DISS}}
    {\ifthenelse{\equal{\thesislanguage}{de-AT}}{\titleDISSen{\thesistitletranslated}}{\titleDISSde{\thesistitletranslated}}}
    {\ifthenelse{\equal{\thesislanguage}{de-AT}}{\titleDAen{\thesistitletranslated}}{\titleDAde{\thesistitletranslated}}}
\\[10ex]
{\Large
\titelvorgestellt{} \textbf{\authorname}\titelnachgestellt}
\\[3ex]
Matr.Nr.: \MatrNr

\end{center}

\vfill

{\large

\begin{tabularx}{\linewidth}{l>{\small\RaggedRight}X@{}} 
Betreuung: & \supervisor \\[2ex]
\ifthenelse{\equal{\thesistype}{DISS}}{Begutachtung: & \gutachterA \\[2ex]
Begutachtung: & \gutachterB \\[2ex]
}{}
\end{tabularx}


\vfill

Wien, im \@date \hfill \line(1,0){165}
}
\end{singlespace*}
\end{titlepage}}
%%
%% end customizing title page
%%
